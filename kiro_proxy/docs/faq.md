# 常见问题

## 连接问题

### 无法连接到代理
- 确认代理已启动（终端显示 `Kiro API Proxy v1.5.0`）
- 检查端口是否正确（默认 8080）
- 检查防火墙设置

### 401 认证失败
- Token 可能已过期，点击「刷新 Token」
- 或重新登录获取新 Token

## 请求问题

### 429 Too Many Requests
Kiro 有请求频率限制，超限后会返回 429。

**代理会自动处理：**
- 将该账号冷却 5 分钟
- 自动切换到其他可用账号
- 冷却结束后自动恢复

**手动处理：**
- 在「监控」页面查看配额状态
- 点击「恢复」按钮提前恢复账号

### 对话太长 (CONTENT_LENGTH_EXCEEDS_THRESHOLD)
Kiro API 有输入长度限制，这是服务端限制，无法绕过。

**解决方案：**
1. 在 Claude Code 中输入 `/clear` 清空对话
2. 告诉 AI 你之前在做什么，它会读取代码文件恢复上下文
3. 复杂任务分阶段完成，每个阶段结束后清空

### 响应很慢
- 检查网络连接
- 尝试切换账号
- 在「监控」页面运行速度测试

## Token 问题

### Token 过期了怎么办
代理会自动检测并刷新 Token。如果自动刷新失败：
1. 点击账号卡片的「刷新 Token」按钮
2. 如果仍然失败，重新登录获取新 Token

### 如何添加多个账号
1. 使用不同的 Google/GitHub 账号登录 Kiro IDE
2. 每次登录后点击「扫描 Token」添加
3. 或使用「在线登录」直接添加

### Token 文件在哪里
Token 保存在 `~/.aws/sso/cache/` 目录下的 JSON 文件中。

## 功能问题

### 支持哪些模型
| 模型 | 能力 | 推荐场景 |
|------|------|----------|
| claude-sonnet-4 | ⭐⭐⭐ | 日常编程 |
| claude-sonnet-4.5 | ⭐⭐⭐⭐ | 复杂任务 |
| claude-haiku-4.5 | ⚡ 快速 | 简单问答 |
| claude-opus-4.5 | ⭐⭐⭐⭐⭐ | 最强能力 |

### 支持工具调用吗
支持！Claude Code 的工具调用功能已验证可用。

### 支持流式输出吗
支持。代理会将 Kiro 的 SSE 流转换为标准的 OpenAI/Anthropic 流式格式。
